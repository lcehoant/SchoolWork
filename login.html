<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Connexion — SchoolWork NAS Pro</title>
<style>
:root{--bg:#f5f7fb;--panel:#fff;--text:#1f2a3a;--muted:#6d7c90;--primary:#2d89ef;--border:#e5e9f2;--danger:#e74c3c;--ok:#27ae60}
html[data-theme=dark]{--bg:#0b1020;--panel:#121831;--text:#eaf2ff;--muted:#93a0b5;--primary:#2d89ef;--border:#1c2440;--danger:#ff6b6b;--ok:#49d189}
body{margin:0;font-family:system-ui;background:var(--bg);color:var(--text);display:flex;justify-content:center;align-items:center;height:100vh}
.card{background:var(--panel);padding:28px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.1);width:min(92vw,380px);text-align:center}
.field{margin:10px 0}
.field input{width:100%;padding:10px;border:1px solid var(--border);border-radius:8px;background:var(--bg)}
.btn{width:100%;padding:12px;margin-top:10px;border:none;border-radius:8px;cursor:pointer}
.btn-primary{background:var(--primary);color:#fff}
.msg{margin-top:10px;font-size:13px}
a{color:var(--primary)}
</style>
</head>
<body>
<div class="card">
<h2>Connexion</h2>
<div class="field"><input id="username" placeholder="Nom d’utilisateur"></div>
<div class="field"><input id="password" type="password" placeholder="Mot de passe"></div>
<button class="btn btn-primary" id="loginBtn">Se connecter</button>
<button class="btn" id="registerBtn">Créer un compte</button>
<div class="msg" id="msg"></div>
<p><a href="register.html">Inscription avancée</a></p>
</div>
<script>
function users(){return JSON.parse(localStorage.getItem("users")||"{}")}
function save(u){localStorage.setItem("sw_logged_in","1");localStorage.setItem("sw_user",u)}
loginBtn.onclick=()=>{let u=username.value.trim().toLowerCase(),p=password.value,db=users();if(db[u]&&db[u]===p){save(u);location="nas.html"}else{msg.style.color="var(--danger)";msg.textContent="Identifiants incorrects"}}
registerBtn.onclick=()=>{let u=username.value.trim().toLowerCase(),p=password.value;if(!u||!p){msg.style.color="var(--danger)";msg.textContent="Champs requis";return}let db=users();if(db[u]){msg.style.color="var(--danger)";msg.textContent="Compte existe déjà"}else{db[u]=p;localStorage.setItem("users",JSON.stringify(db));msg.style.color="var(--ok)";msg.textContent="Compte créé"}}
</script>
</body>
</html>
